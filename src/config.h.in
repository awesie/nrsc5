#pragma once

#cmakedefine USE_FAAD2
#cmakedefine USE_COLOR

#cmakedefine HAVE_PTHREAD_SETNAME_NP
#cmakedefine HAVE_STRNDUP
#cmakedefine HAVE_CMPLXF
#cmakedefine HAVE_IMAGINARY_I
#cmakedefine HAVE_COMPLEX_I

#ifndef HAVE_CMPLXF
#if (__GNUC__ > 4 || (__GNUC__ == 4 && __GNUC_MINOR__ >= 7))
    #define CMPLXF(x,y) __builtin_complex((float)(x), (float)(y))
#elif defined(HAVE_IMAGINARY_I)
    #define CMPLXF(x,y) ((float complex)((float)(x) + _Imaginary_I * (float)(y)))
#elif defined(HAVE_COMPLEX_I)
    #define CMPLXF(x,y) ((float complex)((float)(x) + _Complex_I * (float)(y)))
#endif
#endif /* HAVE_CMPLXF */

#ifndef HAVE_STRNDUP
#include <stdlib.h>
char *strndup(char const *s, size_t n);
#endif

/* For speex resampler: */
#define EXPORT
#define OUTSIDE_SPEEX
#define RANDOM_PREFIX nrsc5
#define FLOATING_POINT
#ifdef HAVE_SSE2
    #define _USE_SSE
#endif
#ifdef HAVE_NEON
    #define _USE_NEON
#endif
